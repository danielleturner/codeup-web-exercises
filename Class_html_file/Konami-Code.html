<!DOCTYPE html>
<html>
<head>
    <title>Konami Code</title>
</head>
<body>
<h1>Konami Code</h1>

<!--<input type="text" name="" id="kcode">-->





<script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>

<script>

    let keys = {
        37: "left",
        38: "up",
        39: "right",
        40: "down",
        65: "a",
        66: "b"
    };

    let konamiCode = [ "up", "up", "down", "down", "left", "right", "left", "right", "b", "a"];



    document.addEventListener("keydown", checkCode, false);

    let keyCount = 0;

    let timerID;

    function checkCode(event) {
        let keyPressed = keys[event.keyCode];

        if (keyPressed === konamiCode[keyCount]) {
            keyCount++;

            window.clearTimeout(timerID);

            timerID = window.setTimeout(resetKeyState, 1000)

            if(keyCount === konamiCode.length) {
                cheatCodeActivated();
                resetKeyState();
            }
        } else {
            resetKeyState();
        }
    }

    function cheatCodeActivated(){
        alert('Cheat Code activated!');
    }

    function resetKeyState(){
        console.log(resetKeyState())
        keyCount = 0;
        window.clearTimeout(timerID);
    }


</script>
</body>
</html>